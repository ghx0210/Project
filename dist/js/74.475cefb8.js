"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[74],{6108:function(t,e,a){a.d(e,{Z:function(){return d}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Platformheader"},[e("el-row",t._l(t.CardData,(function(a){return e("el-col",{key:a.id,attrs:{md:8,lg:4}},[e("div",{staticClass:"headcard"},[e("div",{staticClass:"cardtop"},[e("svg-icon",{attrs:{"icon-file-name":a.url}})],1),e("div",{staticClass:"cardbottom"},[e("div",{staticClass:"cardtitle"},[t._v(t._s(a.num))]),e("div",{staticClass:"cardtitle1"},[t._v(t._s(a.title))])])])])})),1)],1)},s=[],i={data(){return{}},props:["CardData"]},n=i,o=a(1001),l=(0,o.Z)(n,r,s,!1,null,"5bdc9d80",null),d=l.exports},3008:function(t,e,a){a.r(e),a.d(e,{default:function(){return _}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"PlatformSurvey"},[e("div",{staticClass:"Headpart"},[e("PlatformHeader",{attrs:{CardData:t.PlatformCard}})],1),e("div",{staticClass:"Middlepart"},[e("PlatformMiddle")],1),e("div",{staticClass:"Bottompart"},[e("div",{ref:"myechart",staticClass:"Bottomechart"})])])},s=[],i=a(6108),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"PlatformMiddle"},[e("div",{staticClass:"Leftpart"},[e("div",{staticClass:"leftright"},[e("div",{staticClass:"Parttitle"},[t._v("用户比例")]),e("div",{staticClass:"Partmain"},t._l(t.ProgressData,(function(a){return e("div",{key:a.id,staticClass:"Mainleft"},[parseInt(a.tage/(t.PersonData.student_num+t.PersonData.teacher_num)*100)?e("el-progress",{attrs:{"stroke-width":13,percentage:a.tage/(t.PersonData.student_num+t.PersonData.teacher_num)*100,"show-text":!1,color:a.color}}):t._e(),e("div",{staticClass:"Parttext"},[e("span",[t._v(t._s(a.name))]),e("span",[t._v(t._s(t._f("numFilter")(a.tage/(t.PersonData.student_num+t.PersonData.teacher_num)*100))+"%")])])],1)})),0)]),e("div",{ref:"myechart",staticClass:"Mainright"})]),e("div",{ref:"myechart1",staticClass:"Rightpart"})])},o=[],l=a(5114),d={mounted(){this.getPeopleNum(),this.setChart1()},methods:{setChart1(){var t=this.$echarts.init(this.$refs.myechart1);window.onresize=function(){t.resize()};var e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},title:{text:"访问量",top:"5%",left:"5%",textStyle:{fontSize:20,color:"#393939",fontWeight:"normal",fontFamily:"Source Han Serif CN"}},legend:{top:"5%",left:"center",itemGap:50},grid:{top:"30%"},dataZoom:[{type:"inside",zoomLock:!0,maxSpan:50}],xAxis:{type:"category",data:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},yAxis:{type:"value"},series:[{name:"访问量",type:"bar",barWidth:10,data:[1,2,3,4,5,6,7,8,7,5,4,5],itemStyle:{color:"#F73A0B"}},{name:"课程数",type:"bar",barWidth:10,data:[1,2,3,4,5,6,7,8,9,6,5,8]}]};t.setOption(e)},async getPeopleNum(){let t=await(0,l.U)();this.ProgressData.forEach(((e,a,r)=>{r[a].tage=t.platform[e.key]||0})),this.PersonData=t.platform;var e=this.$echarts.init(this.$refs.myechart);window.onresize=function(){e.resize()};var a={tooltip:{trigger:"item"},series:[{name:"用户比例",type:"pie",radius:["40%","70%"],label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold"}},data:[{value:this.PersonData.student_num,name:"学生",itemStyle:{color:"#F6AD2E"}},{value:this.PersonData.teacher_num,name:"老师",itemStyle:{color:"#F93A0B"}}]}]};e.setOption(a)}},filters:{numFilter(t){let e=parseFloat(t).toFixed(0);return e}},data(){return{ProgressData:[{id:1,name:"学生",tage:70,color:"#F6AD2E",key:"student_num"},{id:2,name:"老师",tage:30,color:"#F93A0B",key:"teacher_num"}],PersonData:[]}}},c=d,u=a(1001),m=(0,u.Z)(c,n,o,!1,null,"18dc3872",null),f=m.exports,h={components:{PlatformHeader:i.Z,PlatformMiddle:f},mounted(){this.getPlatformData(),this.setChart()},data(){return{PlatformCard:[{id:1,url:"Platform-H1",num:0,title:"用户总数",key:"user_total"},{id:2,url:"Platform-H2",num:1,title:"总课程数",key:"course_num"},{id:3,url:"Platform-H3",num:2,title:"人均选课",key:"percourse_num"},{id:4,url:"Platform-H4",num:8,title:"月访问量",key:"pv_num"},{id:5,url:"Platform-H5",num:3,title:"实时在线课程",key:"realclass_num"},{id:6,url:"Platform-H6",num:94,title:"实时在线人数",key:"realstudent_num"}]}},methods:{setChart(){var t=this.$echarts.init(this.$refs.myechart);window.onresize=function(){t.resize()};var e={tooltip:{trigger:"axis"},title:{text:"实时在线数据"},legend:{top:"5%",left:"center",itemGap:50},dataZoom:[{type:"inside",zoomLock:!0,maxSpan:50}],xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{name:"实时在线人数",data:[820,932,901,934,1290,1330,1320],type:"line",smooth:!0},{name:"实时在线课程",data:[150,230,224,218,135,147,260],type:"line",smooth:!0}]};t.setOption(e)},async getPlatformData(){let t=await(0,l.U)();this.PlatformCard.forEach(((e,a,r)=>{r[a].num=t.platform[e.key]||0})),this.PlatformCard[0].num=t.platform.student_num+t.platform.teacher_num}}},p=h,v=(0,u.Z)(p,r,s,!1,null,"03373f2b",null),_=v.exports},5114:function(t,e,a){a.d(e,{A:function(){return i},U:function(){return s}});var r=a(4471);function s(){return(0,r.Z)({url:"/webservice/rest/server.php",method:"post",data:{wsfunction:"block_data_screen_platform_overview"}})}function i(){return(0,r.Z)({url:"/webservice/rest/server.php",method:"post",data:{wsfunction:"block_data_screen_academic_statistics"}})}}}]);
//# sourceMappingURL=74.475cefb8.js.map
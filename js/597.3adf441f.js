"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[597],{6108:function(t,e,a){a.d(e,{Z:function(){return o}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Platformheader"},[e("el-row",t._l(t.CardData,(function(a){return e("el-col",{key:a.id,attrs:{md:8,lg:4}},[e("div",{staticClass:"headcard"},[e("div",{staticClass:"cardtop"},[e("svg-icon",{attrs:{"icon-file-name":a.url}})],1),e("div",{staticClass:"cardbottom"},[e("div",{staticClass:"cardtitle"},[t._v(t._s(a.num))]),e("div",{staticClass:"cardtitle1"},[t._v(t._s(a.title))])])])])})),1)],1)},s=[],i={data(){return{}},props:["CardData"]},n=i,l=a(1001),c=(0,l.Z)(n,r,s,!1,null,"5bdc9d80",null),o=c.exports},3597:function(t,e,a){a.r(e),a.d(e,{default:function(){return y}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"PlatformSurvey"},[e("div",{staticClass:"Headpart"},[e("PlatformHeader",{attrs:{CardData:t.SchoolDetailsCard}})],1),e("div",{staticClass:"Middlepart"},[e("SchDetechart")],1),e("div",{staticClass:"Bottompart"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"444","header-cell-style":{background:"#EFF4FA","text-align":"center"},"cell-style":t.columnStyle}},[e("el-table-column",{attrs:{label:"课程名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.fullname))])]}}])}),e("el-table-column",{attrs:{label:"授课老师",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.teachers))])]}}])}),e("el-table-column",{attrs:{label:"课程类别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.name))])]}}])}),e("el-table-column",{attrs:{label:"学生人数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.student_num))])]}}])}),e("el-table-column",{attrs:{label:"开始时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.name))])]}}])}),e("el-table-column",{attrs:{label:"结束时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.name))])]}}])}),e("el-table-column",{attrs:{label:"访问量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.name))])]}}])}),e("el-table-column",{attrs:{label:"所属学院",align:"center"}},[[e("span",[t._v(t._s(t.$route.query.name))])]],2),e("el-table-column",{attrs:{label:"学院课程列表",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleClick(a.row)}}},[t._v("查看")])]}}])})],1)],1)])},s=[],i=(a(7658),a(6108)),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"SchDetechart"},[e("div",{staticClass:"Leftechart"},[e("div",{staticClass:"Leftpart"},[e("div",{staticClass:"Parttitle"},[t._v("活动资源")]),t._l(t.ProgressData,(function(a){return e("div",{key:a.id,staticClass:"Mainleft"},[e("el-progress",{attrs:{"stroke-width":13,percentage:parseInt(a.tage/t.Alldata*100)||0,"show-text":!1,color:a.color}}),e("div",{staticClass:"Parttext"},[e("span",[t._v(t._s(a.name))]),e("span",[t._v(t._s(t._f("numFilter")(a.tage/t.Alldata*100))+"%")])])],1)}))],2),e("div",{staticClass:"Rightpart"},[e("div",{ref:"myechart",staticClass:"Mainright"})])]),e("div",{staticClass:"Rightechart"},[e("div",{ref:"myechart1",staticClass:"BarEchart"})])])},l=[],c=a(6440),o={filters:{numFilter(t){if(1==isNaN(t))return 0;let e=parseFloat(t).toFixed(0);return e}},data(){return{Alldata:"",ProgressData:[{id:1,name:"资源数",tage:90,color:"#F93A0B",key:"resource_num"},{id:2,name:"讨论区数",tage:90,color:"#1D92DF",key:"activity_num"},{id:3,name:"作业数",tage:68,color:"#D653C1",key:"assigns_num"},{id:4,name:"测验数",tage:85,color:"#3D4BCB",key:"quizs_num"}],ActivityData:[],CountsData:[],PvData:[],TitleData:[]}},mounted(){this.getActivityData(),this.setChart()},methods:{async getActivityData(){let t=await(0,c.ef)(this.$route.query.id);this.ProgressData.forEach(((e,a,r)=>{r[a].tage=t.college_data[e.key]||0})),this.Alldata=t.college_data.resource_num+t.college_data.activity_num+t.college_data.assigns_num+t.college_data.quizs_num,this.ActivityData=t.college_data;var e=this.$echarts.init(this.$refs.myechart);window.onresize=function(){e.resize()};var a={tooltip:{trigger:"item"},series:[{type:"pie",radius:["40%","70%"],label:{show:!1,position:"center"},emphasis:{scaleSize:20,label:{show:!0,fontSize:"18",fontWeight:"bold"},labelLine:{show:!1}},data:[{value:this.ActivityData.resource_num,name:"资源数",itemStyle:{color:"#F93A0B"}},{value:this.ActivityData.activity_num,name:"讨论区数",itemStyle:{color:"#1D92DF"}},{value:this.ActivityData.assigns_num,name:"作业数",itemStyle:{color:"#D653C1"}},{value:this.ActivityData.quizs_num,name:"测验数",itemStyle:{color:"#3D4BCB"}}]}]};e.setOption(a)},async setChart(){let t=await(0,c.ef)(this.$route.query.id);t.effective.forEach((t=>{this.CountsData.push(t.counts),this.PvData.push(t.pv),this.TitleData.push(t.title)}));var e=this.$echarts.init(this.$refs.myechart1);window.onresize=function(){e.resize()};var a={title:{text:"学生教师数据",top:"5%",left:"5%",textStyle:{fontSize:20,color:"#393939",fontWeight:"normal",fontFamily:"Source Han Serif CN"}},tooltip:{trigger:"item"},legend:{left:"center",top:"6%",itemGap:50},grid:{show:!1,top:"28%"},xAxis:{type:"category",splitLine:{show:!0},data:this.TitleData},yAxis:[{name:"课程数",type:"value",min:0,interval:1},{name:"访问量",type:"value",min:0}],series:[{name:"课程数",data:this.CountsData,type:"bar",barWidth:80},{name:"访问量",data:this.PvData,type:"line",yAxisIndex:1}]};e.setOption(a)}}},u=o,d=a(1001),h=(0,d.Z)(u,n,l,!1,null,"11c5b70f",null),f=h.exports,m=a(1320),_={components:{PlatformHeader:i.Z,SchDetechart:f},mounted(){this.getDetailsData()},methods:{handleClick(t){this.$router.push({path:"/CourseMatter",query:{id:t.course_id}})},async getDetailsData(){let t=await(0,m.K)(this.$route.query.id);this.SchoolDetailsCard.forEach(((e,a,r)=>{r[a].num=t.college[e.key]||0})),this.tableData=t.course_list},columnStyle({columnIndex:t}){if(8==t)return"background:#F9FBFD"}},data(){return{SchoolDetailsCard:[{id:1,url:"SchDet-H1",num:0,title:"学生数",key:"student_num"},{id:2,url:"SchDet-H2",num:1,title:"教师数",key:"teacher_num"},{id:3,url:"SchDet-H3",num:2,title:"课程数",key:"student_num"},{id:4,url:"SchDet-H4",num:8,title:"访问量",key:"access_num"},{id:5,url:"SchDet-H5",num:3,title:"资源数",key:"resource_num"},{id:6,url:"SchDet-H6",num:4,title:"活动数",key:"activity_num"}],tableData:[]}}},p=_,v=(0,d.Z)(p,r,s,!1,null,"19c2b3e4",null),y=v.exports},1320:function(t,e,a){a.d(e,{J:function(){return s},K:function(){return i}});var r=a(4471);function s(){return(0,r.Z)({url:"/webservice/rest/server.php",method:"post",data:{wsfunction:"block_data_screen_college_list",pagesize:64,role:1,user:480}})}function i(t){return(0,r.Z)({url:"/webservice/rest/server.php",method:"post",data:{catid:t,wsfunction:"block_data_screen_college_detail",pagesize:12,role:1,user:480}})}},6440:function(t,e,a){a.d(e,{A6:function(){return s},Wl:function(){return n},aj:function(){return l},ef:function(){return i}});var r=a(4471);function s(){return(0,r.Z)({url:"/webservice/rest/server.php",method:"post",data:{wsfunction:"block_data_screen_teacher_list",pagesize:64,role:1,user:480}})}function i(t){return(0,r.Z)({url:"/webservice/rest/server.php",method:"post",data:{catid:t,wsfunction:"block_data_screen_academic_statistics"}})}function n(){return(0,r.Z)({url:"/webservice/rest/server.php",method:"post",data:{wsfunction:"block_data_screen_get_college"}})}function l(){return(0,r.Z)({url:"/webservice/rest/server.php",method:"post",data:{wsfunction:"block_data_screen_college_detail ",catid:12}})}}}]);
//# sourceMappingURL=597.3adf441f.js.map